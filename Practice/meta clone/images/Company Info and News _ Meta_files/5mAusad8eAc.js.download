if (self.CavalryLogger) { CavalryLogger.start_js(["EgkE12T"]); }

__d("VideoVODCVCFetchingQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="1918447051537934"}),null);
__d("VideoVODCVCFetchingQuery.graphql",["VideoVODCVCFetchingQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"prev_cvc"},c={defaultValue:null,kind:"LocalArgument",name:"stage"},d={defaultValue:null,kind:"LocalArgument",name:"video_asset_id"},e={defaultValue:null,kind:"LocalArgument",name:"video_id"},f=[{alias:null,args:[{kind:"Variable",name:"prev_cvc",variableName:"prev_cvc"},{kind:"Variable",name:"stage",variableName:"stage"},{kind:"Variable",name:"video_asset_id",variableName:"video_asset_id"},{kind:"Variable",name:"video_id",variableName:"video_id"}],concreteType:"VODPresenceCVCResponse",kind:"LinkedField",name:"vod_presence_cvc",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cvc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_poll_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_displayed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_asset_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"VideoVODCVCFetchingQuery",selections:f,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"VideoVODCVCFetchingQuery",selections:f},params:{id:b("VideoVODCVCFetchingQuery_facebookRelayOperation"),metadata:{},name:"VideoVODCVCFetchingQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("InstreamVideoAdBreak",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.instreamPlacement,this.$2=a.index,this.$3=a.timeOffsetInMs,this.$4=a.adBreakDurationInMs,this.$5=a.isAdBreakAutoInserted,this.$6=a.naturalnessScore,this.$7=a.midSpeechScore}var b=a.prototype;b.getInstreamPlacement=function(){return this.$1};b.getIndex=function(){return this.$2};b.getTimeOffsetInMs=function(){return this.$3};b.getAdBreakDurationInMs=function(){return this.$4};b.getIsAdBreakAutoInserted=function(){return this.$5};b.getNaturalnessScore=function(){return this.$6};b.getMidSpeechScore=function(){return this.$7};return a}();f["default"]=a}),66);
__d("VideoPlayerRegistry",["EventEmitter","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=new Set(),i=new(c("EventEmitter"))(),j="added",k="removed";function a(a,b){return i.addListener(a,b)}function d(a,b){return i.once(a,b)}function l(a){return h.has(a)}function e(a){if(l(a))return!1;h.add(a);i.emit(j,a);return!0}function f(a){if(!l(a))return!1;h["delete"](a);i.emit(k,a);return!0}function m(){return h.size}function n(){return Array.from(h)}function o(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=null;this.getList().forEach(function(b){b.getByRootNode()===a&&(d=b)});if(d){e.next=6;break}e.next=5;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){var e=c.addListener(j,function(c){c.getRootNode()===a&&(e.remove(),b(c))})}));case 5:d=e.sent;case 6:return e.abrupt("return",d);case 7:case"end":return e.stop()}},null,this)}g.ADDED=j;g.REMOVED=k;g.addListener=a;g.once=d;g.has=l;g.add=e;g.remove=f;g.count=m;g.getList=n;g.getByRootNode=o}),98);
__d("VideoScrubberPreviewComponent",[],(function(a,b,c,d,e,f){a=function(){function a(b,c){var d=this;if(!c)throw new Error("VideoScrubberPreview Component config null.");this.$3=c;this.$4=b;this.$1=c.hasPreviewThumbnails;this.$2=a.getSpriteURIs(c.spriteIndexToURIMap);this.$5();this.$4.addListener("switchedToFullVideo",function(){return d.$5()})}var b=a.prototype;b.hasPreviewThumbnails=function(){return this.$1};b.$5=function(){this.$4.registerOption("VideoScrubberPreviewComponent","scrubberPreviewSprites",this.getSprites.bind(this)),this.$4.registerOption("VideoScrubberPreviewComponent","hasPreviewThumbnails",this.hasPreviewThumbnails.bind(this)),this.$4.registerOption("VideoScrubberPreviewComponent","previewThumbnailInformation",this.getPreviewThumbnailInformation.bind(this))};b.getSprites=function(){return this.$2};b.getPreviewThumbnailInformation=function(){this.hasPreviewThumbnails()?this.$3.imagesPerColumn=this.$3.maxImagesPerSprite/this.$3.imagesPerRow:this.$3.imagesPerColumn=0;return this.$3};a.getSpriteURIs=function(a){var b=new Map();for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.set(parseInt(c,10),a[c]);return b};return a}();f["default"]=a}),66);
__d("VideoAutoplayPlayerBase",["EventEmitter","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wasVisible=!1,c.$VideoAutoplayPlayerBase1=[],b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.isVisible=function(){throw new Error("Should be overridden")};d.getDistanceToViewport=function(){throw new Error("Should be overridden")};d.getVideoPlayerController=function(){c("FBLogger")("video").warn(["VideoAutoplayPlayerBase.getVideoPlayerController()","was called and returned null."].join(" "));return null};d.logDisplayed=function(){throw new Error("Should be overridden")};d.playWithoutUnmute=function(a){throw new Error("Should be overridden")};d.pause=function(a){throw new Error("Should be overridden")};d.isAutoplayable=function(){throw new Error("Should be overridden")};d.getDOMPosition=function(){throw new Error("Should be overridden")};d.isLooping=function(){throw new Error("Should be overridden")};d.isState=function(a){throw new Error("Should be overridden")};d.preload=function(){throw new Error("Should be overridden")};d.isMuted=function(){throw new Error("Should be overridden")};d.isPlaying=function(){throw new Error("Should be overridden")};d.shouldPauseWhenScrolledOffscreen=function(){throw new Error("Should be overridden")};d.getAutoplayRules=function(){return this.$VideoAutoplayPlayerBase1};d.registerAutoplayRule=function(a){this.$VideoAutoplayPlayerBase1.push(a)};d.shouldImmediatelyAutoplayOnRegister=function(){return!1};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("FeedVideoPlayerController",["csx","DOM","DOMQuery","LitestandStoryInsertionStatus","Run","SubscriptionsHandler","VideoAutoplayPlayerBase","VideoPlayerApiEvents","VideoPlayerExperiments","VideoPlayerLoggerErrorStates","VideoPlayerLoggerErrors","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=42;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this)||this;f.$FeedVideoPlayerController1=e;f.$FeedVideoPlayerController2=b;f.$FeedVideoPlayerController3=new Set();f.$FeedVideoPlayerController1.viewport_autoplay||f.$FeedVideoPlayerController3.add("server_blocked");f.$FeedVideoPlayerController12=c("VideoPlayerExperiments").autoplayUntilHalfGone?.5:1;f.$FeedVideoPlayerController4=f.isAutoplayable();f.$FeedVideoPlayerController6=e.controller;f.$FeedVideoPlayerController10=!!e.startsMuted;f.$FeedVideoPlayerController13=!1;f.$FeedVideoPlayerController7=f.isAutoplayable();(f.$FeedVideoPlayerController6.getIsInChannel()||f.$FeedVideoPlayerController6.isState("playing")&&!f.$FeedVideoPlayerController6.isMuted())&&(f.$FeedVideoPlayerController7=!1);f.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isAutoplaying",function(){return f.$FeedVideoPlayerController7},function(a){f.$FeedVideoPlayerController7=a});f.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isVisibleForAutoplay",function(){return f.isVisible()});f.$FeedVideoPlayerController6.registerOption("FeedAutoplay","shouldOpenSidePaneInChannelView",function(){return e.autoPlayWithChannelViewOrSnowlift});f.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isFilteredByWarningScreen",function(){return f.$FeedVideoPlayerController13},function(a){f.$FeedVideoPlayerController13=a});f.$FeedVideoPlayerController6.setLogEntryPropertyGetters({autoplay_eligible:function(){return f.isAutoplayable()},autoplay_failure_reasons:function(){return JSON.stringify(Array.from(f.$FeedVideoPlayerController3))}});f.$FeedVideoPlayerController14();d("Run").onLeave(function(){f.$FeedVideoPlayerController5.release()});if(f.isState("fallback")){f.$FeedVideoPlayerController15();f.$FeedVideoPlayerController16();return babelHelpers.assertThisInitialized(f)}f.$FeedVideoPlayerController5.addSubscriptions(c("LitestandStoryInsertionStatus").registerBlocker(function(){return f.isState("playing")}));return f}var e=b.prototype;e.$FeedVideoPlayerController17=function(){return this.$FeedVideoPlayerController6.isState("destroyed")};e.getDistanceToViewport=function(){if(this.$FeedVideoPlayerController17())return-Infinity;if(this.$FeedVideoPlayerController6.isFullscreen())return 0;var a=c("getViewportDimensions")().height,b=this.getDOMPosition();if(b.height===0)return-Infinity;b=b.y+(1-this.$FeedVideoPlayerController12)*b.height;return b-a/2};e.isVisible=function(){if(this.$FeedVideoPlayerController17())return!1;if(this.$FeedVideoPlayerController6.isFullscreen())return!0;if(this.$FeedVideoPlayerController6.hasDialog()&&!this.$FeedVideoPlayerController6.isTahoe())return!1;var a=c("getViewportDimensions")().height,b=c("getViewportDimensions")().width,d=this.getDOMPosition();if(d.height===0)return!1;var e=d.y-i+(1-this.$FeedVideoPlayerController12)*d.height,f=d.y+this.$FeedVideoPlayerController12*d.height,g=d.x+(1-this.$FeedVideoPlayerController12)*d.width,h=d.x+this.$FeedVideoPlayerController12*d.width;if(e<0||f>=a||g<0||h>=b)return!1;e=this.$FeedVideoPlayerController18();return e!==null?this.$FeedVideoPlayerController19(d,c("getElementPosition")(e)):!0};e.$FeedVideoPlayerController18=function(){var a=d("DOMQuery").scry(this.$FeedVideoPlayerController2.video_container,"^div._1yj5");return a.length>0?a[0]:null};e.$FeedVideoPlayerController19=function(a,b){var c=a.x;a=a.x+a.width;var d=b.x;b=b.x+b.width;return d<c&&a<b};e.isAutoplayable=function(){return this.$FeedVideoPlayerController1.viewport_autoplay&&!this.$FeedVideoPlayerController9&&!this.$FeedVideoPlayerController3.size&&!this.$FeedVideoPlayerController13};e.getCurrentTimePosition=function(){return this.$FeedVideoPlayerController6.getCurrentTimePosition()};e.playWithoutUnmute=function(a){this.$FeedVideoPlayerController6.play(a)};e.getVideoID=function(){return this.$FeedVideoPlayerController6.getVideoID()};e.$FeedVideoPlayerController20=function(){this.$FeedVideoPlayerController16()};e.$FeedVideoPlayerController14=function(){var a=this;this.$FeedVideoPlayerController5=new(c("SubscriptionsHandler"))();var b=[["finishPlayback",function(){return a.$FeedVideoPlayerController21()}],["turnOffAutoplay",function(b){var c=null;b&&(c=b.reason);a.$FeedVideoPlayerController22(c)}],["unmuteVideo",function(){return a.$FeedVideoPlayerController23()}],["stateChange",function(){return a.$FeedVideoPlayerController24()}],["switchVideo",function(){return a.$FeedVideoPlayerController20()}],["fallbackPlay",function(){return a.$FeedVideoPlayerController25()}],["buffered",function(){return a.$FeedVideoPlayerController16()}],["buffering",function(){return a.$FeedVideoPlayerController16()}],["beginPlayback",function(b){b=b.reason;return a.$FeedVideoPlayerController26(b)}],["toggleFullscreen",function(){return a.$FeedVideoPlayerController27()}],["resumeAutoplay",function(b){var c=null;b&&(c=b.reason);a.$FeedVideoPlayerController28(c)}],["crossfadeWatchAndScroll",function(){return a.$FeedVideoPlayerController29()}],["enterWatchAndScroll",function(){return a.$FeedVideoPlayerController29()}],["exitWatchAndScroll",function(){return a.$FeedVideoPlayerController30()}],["muteVideo",function(){return a.$FeedVideoPlayerController31()}]],d=function(b){return a.emit.bind(a,b)};this.$FeedVideoPlayerController5.addSubscriptions.apply(this.$FeedVideoPlayerController5,b.map(function(b){var c=b[0];b=b[1];return a.$FeedVideoPlayerController6.addListener(c,b)}).concat(c("VideoPlayerApiEvents").map(function(b){return a.$FeedVideoPlayerController6.addListener(b,d(b))})))};e.$FeedVideoPlayerController31=function(){c("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&this.$FeedVideoPlayerController32("unmuted")};e.$FeedVideoPlayerController30=function(){c("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&(this.$FeedVideoPlayerController32("watch_and_scroll"),this.$FeedVideoPlayerController6&&this.$FeedVideoPlayerController6.isMuted()&&this.$FeedVideoPlayerController32("unmuted"))};e.$FeedVideoPlayerController29=function(){c("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&(this.$FeedVideoPlayerController33("watch_and_scroll"),this.$FeedVideoPlayerController32("manually_paused"))};e.$FeedVideoPlayerController27=function(){this.$FeedVideoPlayerController10&&this.$FeedVideoPlayerController6.unmute()};e.$FeedVideoPlayerController24=function(){if(this.$FeedVideoPlayerController17())return;this.$FeedVideoPlayerController6.isState("fallback")&&this.$FeedVideoPlayerController15();!this.$FeedVideoPlayerController6.isState("loading")&&this.$FeedVideoPlayerController8&&(clearTimeout(this.$FeedVideoPlayerController8),this.$FeedVideoPlayerController8=null);this.$FeedVideoPlayerController16()};e.$FeedVideoPlayerController26=function(a){c("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&this.$FeedVideoPlayerController32("manually_paused"),a==="user_initiated"&&this.$FeedVideoPlayerController10&&this.$FeedVideoPlayerController6.unmute()};e.preload=function(){this.$FeedVideoPlayerController6.preload&&this.$FeedVideoPlayerController6.preload()};e.logDisplayed=function(){this.$FeedVideoPlayerController6.logEvent("displayed",{autoplay_reason:this.$FeedVideoPlayerController1.autoplay_reason})};e.$FeedVideoPlayerController25=function(){var a={error:d("VideoPlayerLoggerErrors").ENTERED_FALLBACK,state:d("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE};this.$FeedVideoPlayerController6.logEvent("error",a)};e.$FeedVideoPlayerController23=function(){c("VideoPlayerExperiments").slidingWNSv3&&this.$FeedVideoPlayerController6.isAd()&&(this.$FeedVideoPlayerController12=.5),this.$FeedVideoPlayerController10=!1,this.$FeedVideoPlayerController7=!1};e.$FeedVideoPlayerController21=function(){var a=this.$FeedVideoPlayerController6.getOption("Looping","isLooping");a||this.$FeedVideoPlayerController33("has_seen_finished")};e.$FeedVideoPlayerController15=function(){this.$FeedVideoPlayerController11={isAutoplaying:this.$FeedVideoPlayerController7,preventAutoplay:this.$FeedVideoPlayerController9},this.$FeedVideoPlayerController33("fallback")};e.$FeedVideoPlayerController33=function(a){this.$FeedVideoPlayerController9=!0,a&&this.$FeedVideoPlayerController3.add(a),this.$FeedVideoPlayerController7=!1};e.$FeedVideoPlayerController28=function(a){this.$FeedVideoPlayerController32(a)};e.$FeedVideoPlayerController32=function(a){a?this.$FeedVideoPlayerController3["delete"](a):(this.$FeedVideoPlayerController3["delete"]("unmuted"),this.$FeedVideoPlayerController3["delete"]("has_seen_finished"),this.$FeedVideoPlayerController3["delete"]("manually_paused")),this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController3.size>0,this.$FeedVideoPlayerController7=!this.$FeedVideoPlayerController9};e.$FeedVideoPlayerController22=function(a){if(c("VideoPlayerExperiments").enableAutoplayOnUnmutedVideos&&a==="unmuted")return;this.$FeedVideoPlayerController33(a);this.$FeedVideoPlayerController7=!1};e.$FeedVideoPlayerController16=function(){this.$FeedVideoPlayerController34()};e.getDOMPosition=function(){return this.$FeedVideoPlayerController6.getDOMPosition()};e.isLooping=function(){return!!this.$FeedVideoPlayerController6.getOption("Looping","isLooping")};e.pause=function(a){this.$FeedVideoPlayerController6.pause(a)};e.$FeedVideoPlayerController35=function(){this.$FeedVideoPlayerController14(),this.$FeedVideoPlayerController3["delete"]("fallback"),this.$FeedVideoPlayerController7=this.$FeedVideoPlayerController11.isAutoplaying,this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController11.preventAutoplay};e.$FeedVideoPlayerController34=function(){var a=this;if(this.isState("fallback")){this.$FeedVideoPlayerController5.release();var b=this.$FeedVideoPlayerController2;b.fallback_link&&(c("DOM").remove(this.$FeedVideoPlayerController6.getVideoNode()),c("DOM").replace(b.video_container,b.fallback_link),c("DOM").appendContent(b.fallback_link,b.video_container));if(this.$FeedVideoPlayerController6.isFallbackRecoverable())this.$FeedVideoPlayerController35();else var d=this.$FeedVideoPlayerController6.addListener("VideoPlayerFallbackEvents/recover",function(){a.$FeedVideoPlayerController35(),d.remove()})}};e.isState=function(a){return this.$FeedVideoPlayerController6.isState(a)};e.getSource=function(){return this.$FeedVideoPlayerController6.getSource()};e.getIsInChannel=function(){return this.$FeedVideoPlayerController6.getIsInChannel()};e.getVideoPlayerController=function(){return this.$FeedVideoPlayerController6};e.abortLoading=function(){this.$FeedVideoPlayerController1.abort_loading_blocked||this.$FeedVideoPlayerController6.abortLoading()};e.isMuted=function(){return this.$FeedVideoPlayerController6.isMuted()};e.isPlaying=function(){return this.$FeedVideoPlayerController6.isState("playing")};e.shouldPauseWhenScrolledOffscreen=function(){return c("VideoPlayerExperiments").enableAutoplayOnUnmutedVideos?!0:!1};return b}(c("VideoAutoplayPlayerBase"));g["default"]=a}),98);
__d("VideoPlayerRegistryComponent",["invariant","SubscriptionsHandler","VideoPlayerRegistry"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=a||null,this.$2=new(c("SubscriptionsHandler"))(),this.$1&&this.$3()}var b=a.prototype;b.destroy=function(){this.$4(),this.$1=null};b.getController=function(){var a=this.$1;a||h(0,2032);return a};b.enable=function(a){this.$1&&this.$1!==a&&this.$4(),this.$1=a,this.$3()};b.disable=function(a){this.$4()};b.$3=function(){var a=this,b=this.getController();d("VideoPlayerRegistry").add(b);this.$2.addSubscriptions(b.addListener("stateChange",function(){b.isState("destroyed")&&a.destroy()}))};b.$4=function(){var a=this.getController();this.$2.release();this.$2.engage();d("VideoPlayerRegistry").remove(a)};return a}();g["default"]=a}),98);
__d("VideoNodeStaledScreen",["CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$3=new(c("SubscriptionsHandler"))();this.$5=function(){d("CSS").show(b.$1)};this.$4=function(){d("CSS").hide(b.$1)};this.$1=a;this.$2=null;c("EventListener").listen(this.$1,"click",this.$4)}var b=a.prototype;b.enable=function(a){this.$2=a,this.$3.addSubscriptions(this.$2.addListener("videoNodeStaled",this.$5))};b.disable=function(){this.$3.release(),this.$2=null};return a}();g["default"]=a}),98);
__d("VideoStateDirectory",["EventEmitter","VideoPlayerExperiments"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$VideoStateDirectory1=new Map();return b}var d=b.prototype;d.setPlaybackState=function(a,b,d){var e=this.$VideoStateDirectory1.get(a)||{};e.currentTimePosition=b;e.playbackDuration=d;e.watched=e.currentTimePosition/e.playbackDuration>=c("VideoPlayerExperiments").watchedPercentage/100||!!e.watched;this.$VideoStateDirectory1.set(a,e);this.emit(a,e)};d.setSaveState=function(a,b){var c=this.$VideoStateDirectory1.get(a)||{};c.saved=b;this.emit(a,c)};d.setSubscriptionState=function(a,b){var c=this.$VideoStateDirectory1.get(a)||{};c.subscribed=b;this.emit(a,c)};d.getState=function(a){return this.$VideoStateDirectory1.get(a)};return b}(c("EventEmitter"));b=new a();g["default"]=b}),98);
__d("VideoUpdateStateDirectory",["VideoStateDirectory"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.$2=function(){var b=a.$1,d=b.getVideoID(),e=b.getCurrentTimePosition();b=b.getPlaybackDuration();c("VideoStateDirectory").setPlaybackState(d,e,b)}}var b=a.prototype;b.enable=function(a){this.$1=a,a.addListener("finishPlayback",this.$2),a.addListener("pausePlayback",this.$2)};b.disable=function(){};return a}();g["default"]=a}),98);